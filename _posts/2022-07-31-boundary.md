---
title: "도구와 경계"
date: 2022-07-30 23:00:00 +0900
categories: develop
---

하나의 프로그램을 구성할때 우리는 여러 도구와 미리 구성된 소스코드들에 의존한다.\
도구는 언어적 정의에서 부터 react 와 같은 UI 라이브러리 까지 다양하다.
잘 만든 도구들은 알기 쉽게 추상화 되어 있으며, 우리는 최저 수준의 고민을 도구에 맡기며 고수준의 과업을 해결해나간다.

내가 이야기하고 싶어하는 도구란 무엇일까? 도구를 무조건적으로 사용하는것을 옳은가?\
우선 도구의 기준을 정의해보자.

## 도구는 저수준의 문제를 감춘다.

내가 생각하는 도구에 부합하는 가장 근본적인 개념 중 하나는 **고차함수** 이다.
자바스크립트의 `Array.prototype.map` 을 보자. 

```js
[1,2,3,4,5].map(num => num * 5) // [5, 10, 15, 20, 25]
```

이 아름다운 빌트인 메서드는 다음과 같은 주제를 추상화 한다.\
즉 다음과 같은 개념을 추상화 하고 프로그래머는 '어떻게' 할 것인가를 정의한다.  

1. *반복을 어떻게 할 것인가?* : 배열의 항목 만큼 반복할 것이다.
2. *반복하며 무엇을 할 것인가?* : 배열의 각 항목에 **하고자 하는바** 를 대입하여 새로운 값을 리턴한다.

이처럼 `Array.prototype.map` 의 함의하고 있는 주제는 '매핑' 이다.\
프로그래머는 매핑이 어떻게 이루어지는지에 대해는 관심을 가지지 않는다. 단지 **하고자 하는바** 를 함수라는 형태로 도구에 전달하고 
도구는 그에 맡게 내가 원하는 바를 수행하여 나에게 돌려준다.\
좀 더 고수준의 도구를 살펴보자.

## 도구는 여러 프로그래머에 의해 작은 단위로 정의된다.

도구는 다른 프로그래머에 의해 정의되고, 사용된다.\
A 는 특정 문제를 해결하는 함수나 객체생성자를 만든다. 그리고 같은 팀원인 A, B, C 는 이 도구를 사용하여 
같은 주제를 다루는 문제를 쉽게 해결한다.\
가령 상품의 소비자가와 판매가에 대한 할인률을 계산하여야 하는 주제가 있다면 다음과 같은 도구를 정의하여 해결한다.

```ts
export function getDiscountRateBy (fullPrice: number, salesPrice: number) {
  return ((fullPrice - salesPrice) / fullPrice) * 100
}

getDiscountRateBy(2500, 1750) // 30. 30% 할인이 적용된 금액이다.
```

이러한 `getDiscountRateBy`를 A, B, C 개발자가 소스코드 전반에 사용한다면, 다음과 같은 현상이 나타난다.

1. `getDiscountRateBy` 는 소스코드 전반에 결합도를 지니게 된다.
2. `getDiscountRateBy` 의 공식이 재정의 될 경우 소스코드 전반에 영향을 미친다.
3. 따라서 `getDiscountRateBy` 는 우리의 소프트웨어와 **강하게 결합된다.**

도구를 정의하고 사용하는것은 문제해결에 큰 도움을 준다.\
도구를 신뢰하고자 할 경우 테스트코드 등을 작성하여 신뢰도를 높힐 수 있다.\
만일 해당 도구의 내부 수식이 잘못되었을 경우에는 해당 도구를 수정하여 
실수를 코드 전반을 수정하는 것이 아니라 내부 구현을 수정함으로 해결할 수 있다.

그렇다면 이러한 도구가 가지는 트레이드오프는 없는가?\
트레이드오프는 존재한다. 해당 도구와 우리의 소프트웨어가 **결합**되는 것이다.

그럼에도 이러한 '공공재' 도구를 정의하는것은 권장된다.\
개개별 리소스를 절약할 수 있으며, 검증된 도구는 소프르웨어 전반의 신뢰도를 향상시킨다.
소프트웨어의 중복을 줄임으로 관리를 용이하게 한다.

다만 도구가 한가지 문제를 해결하는것이 아니라, 여러가지 문제를 해결하고자 할 경우 상황이 복잡해진다.














